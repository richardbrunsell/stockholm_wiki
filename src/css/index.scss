@import "_main.scss";

$text_light: #1f1f1f;
$bg_light: #dadada;
$splash_light: url("https://images.pexels.com/photos/531972/pexels-photo-531972.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940");

$text_dark: #dadada;
$bg_dark: #1f1f1f;
$splash_dark: url("https://images.pexels.com/photos/924824/pexels-photo-924824.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260");

body {
  background-color: $bg_light;
  scroll-behavior: smooth;
  color: $text_light;
}

/******************************
 * Parallax
 * Because of the way 3D parallaxing works, the layering is a bit finnicky and have to be manually adjusted
 * A layer can't be present in two consecutive layers, otherwise there will be clipping issues
******************************/

.parallax {
  position: absolute; top: -18px; width: 100%; // offset iGEM.org topbar
  height: 100vh;
  perspective: 100px;
  overflow-x: hidden;
  overflow-y: auto;
}
.parallax_group {
  position: relative;
  height: 100vh;
  transform-style: preserve-3d;
}
.parallax_layer {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  transition: all 0.3s;
}

// Layer Transformations
// calculate scale factor with 1 + (translateZ * -1) / perspective

.parallax_layer-fore {transform: translateZ(30px) scale(0.71);}
.parallax_layer-base {transform: translateZ(0);}
.parallax_layer-mid {transform: translateZ(-50px) scale(1.51);}
.parallax_layer-back {transform: translateZ(-100px) scale(2.01);}

// Backgrounds

#group1 .parallax_layer-fore {border: 5rem solid #ff8989;}
#group3 .parallax_layer-fore {border: 5rem solid #8989ff;}
#group5 .parallax_layer-fore {border: 5rem solid #93ff89;}

#group1 .parallax_layer-base, #group3 .parallax_layer-base, #group5 .parallax_layer-base {background: $bg_light;}

#group2 .parallax_layer-mid {border: 5rem solid #f7ff89;}
#group4 .parallax_layer-mid {border: 5rem solid #ff89d8;}

#group0 .parallax_layer-back {background: $splash_light no-repeat center/auto 100%;}
#group2 .parallax_layer-back, #group4 .parallax_layer-back {background: $bg_light;}

// Content

#group0 {
  position: relative;

  .logo {
    height: 40rem; width: 20rem;
    background: url("../assets/img/Home--project_dark.png") no-repeat center/100%;
  }

  .wave {
    position: absolute; left: 0; bottom: 10vh;
    width: 100%; height: 200px;
    background: url("../assets/img/wave_light.svg") left bottom/1000px repeat-x;
    transition: 0.3s;
  }

  .wave1 {opacity: 1; animation: slide 7.44s linear infinite;}
  .wave2 {opacity: 0.5; animation: slide 9.83s linear infinite;}
  .wave3 {opacity: 0.5; animation: slide 4.27s linear infinite}

  @keyframes slide {
    0% {background-position: 0 0;}
    50% {background-position: 500px -10px;}
    100% {background-position: 1000px 0;}
  }

  .waveblock {
    position: absolute; left: 0; bottom: 0;
    width: 100%; height: 10vh;
    background: $bg_light;
    transition: 0.3s;
  }
}

.content {
  text-align: center;
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);

  img {width: 50%;}
}

// Indices
// groups must be indiced sequentially in a overlapping way, so 5, 3, 4, 2 etc.

#group1 {z-index: 5;}
#group2 {z-index: 3;}
#group3 {z-index: 4;}
#group4 {z-index: 2;}
#group5 {z-index: 3;}

// DARK MODE
body.dark {
  background-color: $bg_dark;
  color: $text_dark;

  #group0 {

    .logo {background: url("../assets/img/Home--project_light.png") no-repeat center/100%;}
    .wave {background: url("../assets/img/wave_dark.svg") left bottom/1000px repeat-x;}
    .waveblock{background: $bg_dark;}
    .parallax_layer-back {background: $splash_dark no-repeat center/auto 100%;}
  }
  #group1 .parallax_layer-base, #group3 .parallax_layer-base, #group5 .parallax_layer-base {background: $bg_dark;}
  #group2 .parallax_layer-back, #group4 .parallax_layer-back {background: $bg_dark;}

}