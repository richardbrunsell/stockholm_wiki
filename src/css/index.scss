@import "_main.scss";

// COLORS

$item_light: #1f1f1f;
$bg_light: #dadada;
$title_light: url("https://images.pexels.com/photos/531972/pexels-photo-531972.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940");

$item_dark: #dadada;
$bg_dark: #1f1f1f;
$title_dark: url("https://images.pexels.com/photos/4576277/pexels-photo-4576277.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940");

// LIGHT MODE

body {

  #group0 {
    background-image: url("../assets/img/Home--project_dark.png");
    .waveblock{background: $bg_light;}
    .parallax_layer-back {background-image: $title_light;}
  }
  #group1 .parallax_layer-base {background: linear-gradient(darken($bg_light, 0%),  darken($bg_light, 20%));}
  #group2 .parallax_layer-back {background: linear-gradient(darken($bg_light, 20%), darken($bg_light, 40%));}
  #group3 .parallax_layer-base {background: linear-gradient(darken($bg_light, 40%), darken($bg_light, 60%));}
  #group4 .parallax_layer-back {background: linear-gradient(darken($bg_light, 60%), darken($bg_light, 80%));}
  #group5 .parallax_layer-base {background: linear-gradient(darken($bg_light, 80%), darken($bg_light, 100%));}

  #group4, #group5 {p, h1, h2, h3, h4, h5, h6, svg {color: $item_dark;}}
}

// DARK MODE

body.dark {

  #group0 {
    background-image: url("../assets/img/Home--project_light.png");
    .waveblock{background: $bg_dark;}
    .parallax_layer-back {background-image: $title_dark;}
  }
  #group1 .parallax_layer-base {background: linear-gradient(darken($bg_dark, 0%),  darken($bg_dark, 20%));}
  #group2 .parallax_layer-back {background: linear-gradient(darken($bg_dark, 20%), darken($bg_dark, 40%));}
  #group3 .parallax_layer-base {background: linear-gradient(darken($bg_dark, 40%), darken($bg_dark, 60%));}
  #group4 .parallax_layer-back {background: linear-gradient(darken($bg_dark, 60%), darken($bg_dark, 80%));}
  #group5 .parallax_layer-base {background: linear-gradient(darken($bg_dark, 80%), darken($bg_dark, 100%));}
}

// MAIN

// PARALLAX
// Because of the way 3D parallaxing works, the layering is a bit finnicky and have to be manually adjusted
// A layer can't be present in two consecutive layers, otherwise there will be clipping issues

.parallax {
  position: absolute; top: calc(5rem + 2px);
  height: calc(100vh - 5rem - 18px); width: 100%;
  perspective: 100px;
  overflow-x: hidden; overflow-y: auto;

  .parallax_group {
    position: relative;
    height: calc(100vh - 5rem - 18px);
    transform-style: preserve-3d;

    .parallax_layer {
      position: absolute;
      top: 0; right: 0; bottom: 0; left: 0;
    }
  }
}

// LAYERS & TRANSFORMATIONS
// calculate scale factor with 1 + (translateZ * -1) / perspective

.parallax_layer-fore {transform: translateZ(50px) scale(0.51);}
.parallax_layer-base {transform: translateZ(0) scale(1);}
.parallax_layer-mid {transform: translateZ(25px) scale(0.76);}
.parallax_layer-back {transform: translateZ(-50px) scale(1.51);}

// HEADER

#group0 {
  background: no-repeat center/auto 60%;

  .parallax_layer-back {
    background: no-repeat center/100% 100%;
  }
  .wave {bottom: 10vh;}
  .waveblock {
    position: absolute; left: 0; bottom: 0;
    width: 100%; height: 10vh;
  }
}

// CONTENT

.content {
  position: absolute;
  width: 80%; max-width: 60rem;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  p {text-align: justify;}
  svg {font-size: 10rem;}
}

// INDICES
// groups must be indiced sequentially in a overlapping way, so 5, 3, 4, 2 etc.

#group1 {z-index: 5;}
#group2 {z-index: 3;}
#group3 {z-index: 4;}
#group4 {z-index: 2;}
#group5 {z-index: 3;}

// MEDIA QUERIES