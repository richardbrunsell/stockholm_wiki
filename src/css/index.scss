@import "_main.scss";

$bg_light: #dadada;
$splash_light: url("https://images.pexels.com/photos/531767/pexels-photo-531767.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940");

$bg_dark: #313131;
$splash_dark: url("https://images.pexels.com/photos/2387877/pexels-photo-2387877.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260");

body {
  background-color: $bg_light;
  scroll-behavior: smooth;
}

/******************************
 * Parallax
 * Because of the way 3D parallaxing works, the layering is a bit finnicky and have to be manually adjusted
 * A layer can't be present in two consecutive layers, otherwise there will be clipping issues
******************************/

.parallax {
  perspective: 100px;
  height: 100vh;
  overflow-x: hidden;
  overflow-y: auto;
}
.parallax_group {
  position: relative;
  height: 100vh;
  transform-style: preserve-3d;
}
.parallax_layer {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

// Layer Transformations
// calculate scale factor with 1 + (translateZ * -1) / perspective

.parallax_layer-fore {transform: translateZ(30px) scale(0.7);}
.parallax_layer-base {transform: translateZ(0);}
.parallax_layer-mid {transform: translateZ(-50px) scale(1.5);}
.parallax_layer-back {transform: translateZ(-100px) scale(2);}

// Backgrounds

#group1 .parallax_layer-fore {border: 10rem solid #ff8989;}
#group3 .parallax_layer-fore {border: 10rem solid #8989ff;}
#group5 .parallax_layer-fore {border: 10rem solid #93ff89;}

#group1 .parallax_layer-base {background: #a85a5a;}
#group3 .parallax_layer-base {background: #5656a0;}
#group5 .parallax_layer-base {background: #5fa158;}

#group2 .parallax_layer-mid {border: 10rem solid #f7ff89;}
#group4 .parallax_layer-mid {border: 10rem solid #ff89d8;}

#group0 .parallax_layer-back {background: $splash_light;}
#group2 .parallax_layer-back {background: #7c7000;}
#group4 .parallax_layer-back {background: #770067;}


// Content

#group0 {
  position: relative;

  .wave {
    position: absolute; left: 0; bottom: 10vh;
    width: 100%; height: 200px;
    background: url("../assets/img/wave_light.svg") left bottom/1000px repeat-x;
    transition: 0.3s;
  }

  .wave1 {opacity: 1; animation: slide 7.44s linear infinite;}
  .wave2 {opacity: 0.5; animation: slide 9.83s linear infinite;}
  .wave3 {opacity: 0.5; animation: slide 4.27s linear infinite}

  @keyframes slide {
    0% {background-position: 0 0;}
    50% {background-position: 500px -10px;}
    100% {background-position: 1000px 0;}
  }

  .waveblock {
    position: absolute; left: 0; bottom: 0;
    width: 100%; height: 10vh;
    background: $bg_light;
    transition: 0.3s;
  }
}

.content {
  text-align: center;
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);

  img {width: 50%;}
}

// Indices
// groups must be indiced sequentially in a overlapping way, so 5, 3, 4, 2 etc.

#group1 {z-index: 5;}
#group2 {z-index: 3;}
#group3 {z-index: 4;}
#group4 {z-index: 2;}
#group5 {z-index: 3;}

/******************************
 * Header


header {
  scroll-snap-align: start;
  position: relative;
  height: 90vh;
  text-align: center; 
  perspective: 100px;

  h1 {
    font-family: "Lato", sans-serif;
    font-weight: 300;
    font-size: 4.5rem;
  }
}

@include respond-below(lg) {
  header {
    h1 {
      font-size: 4rem;
    }
  }
}

@include respond-below(md) {
  header {
    h1 {
      font-size: 3.5rem;
    }
  }
}
 ******************************/

/******************************
* Article


article {
  font-family: "Lato", sans-serif;

  h1 {
    font-size: 2.5rem;
    color: $darkBlue;
    margin: 1.5rem 0 1rem 0;
  }

  h2 {
    margin: 1.5rem 0 1rem 0;
  }

  h3 {
    margin: 1.5rem 0 0.7rem 0;
  }

  p {
    font-size: 1.1rem;
  }

  li {
    margin-left: 1rem;
  }

  .col {
    padding: 1.5rem;
  }

  .card {
    margin: 0 0 1.5rem 0;
  }
  .card-img-top {
    img {
      width: 100%;
    }
  }

  p.card-text {
    font-size: 1rem;
  }

  .page {
    position: relative;
    height: 90vh;
    text-align: center;
    padding: 9rem 4rem 4rem 4rem;
  }
  #design {background: none;}
  #model {background: none;}
  #hp {background: none;}
}
******************************/

// DARK MODE
body.dark {
  background-color: $bg_dark;

  header {
    
    hr {
      background-color: rgb(90, 90, 90);
    }

    button {
      background: $navBG-dark;
    }
  }
  #group0 {
    .wave {background: url("../assets/img/wave_dark.svg") left bottom/1000px repeat-x;}
    .waveblock{background: $bg_dark;}
    .parallax_layer-back {background: $splash_dark;}
  }
}