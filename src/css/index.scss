@import "_main.scss";

// COLORS

$item_light: #1f1f1f;
$bg_light: #dadada;
$title_light: url("https://images.pexels.com/photos/531972/pexels-photo-531972.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940");

$item_dark: #dadada;
$bg_dark: #1f1f1f;
$title_dark: url("https://images.pexels.com/photos/924824/pexels-photo-924824.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260");

// LIGHT MODE

body {

  #group0 {
    .logo {background: url("../assets/img/Home--project_dark.png") no-repeat center/100%;}
    .waveblock{background: $bg_light;}
    .parallax_layer-back {background: $title_light no-repeat center/auto 100%;}
  }
  .parallax_layer-base {background: $bg_light;}
  .parallax_layer-back {background: red;}
}

// DARK MODE

body.dark {

  #group0 {
    .logo {background: url("../assets/img/Home--project_light.png") no-repeat center/100%;}
    .waveblock{background: $bg_dark;}
    .parallax_layer-back {background: $title_dark no-repeat center/auto 100%;}
  }
  .parallax_layer-base {background: $bg_dark;}
  .parallax_layer-back {background: red;}
}

// MAIN

// PARALLAX
// Because of the way 3D parallaxing works, the layering is a bit finnicky and have to be manually adjusted
// A layer can't be present in two consecutive layers, otherwise there will be clipping issues

.parallax {
  position: absolute; top: calc(5rem + 2px);
  height: calc(100vh - 5rem - 18px); width: 100%;
  perspective: 100px;
  overflow-x: hidden; overflow-y: auto;

  .parallax_group {
    position: relative;
    height: calc(100vh - 5rem - 18px);
    transform-style: preserve-3d;

    .parallax_layer {
      position: absolute;
      top: 0; right: 0; bottom: 0; left: 0;
    }
  }
}

// LAYERS & TRANSFORMATIONS
// calculate scale factor with 1 + (translateZ * -1) / perspective

.parallax_layer-fore {transform: translateZ(50px) scale(0.51);}
.parallax_layer-base {transform: translateZ(0) scale(1);}
.parallax_layer-mid {transform: translateZ(25px) scale(0.76);}
.parallax_layer-back {transform: translateZ(-50px) scale(1.51);}

// CONTENT

#group0 {
  position: relative;
  .logo {height: 40rem; width: 20rem;}
  .wave {bottom: 10vh;}
  .waveblock {
    position: absolute; left: 0; bottom: 0;
    width: 100%; height: 10vh;
  }
}

.content {
  text-align: center;
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);

  img {width: 50%;}
}

// INDICES
// groups must be indiced sequentially in a overlapping way, so 5, 3, 4, 2 etc.

#group1 {z-index: 5;}
#group2 {z-index: 3;}
#group3 {z-index: 4;}
#group4 {z-index: 2;}
#group5 {z-index: 3;}

// MEDIA QUERIES

@include respond-below(xs) {
  #group0 {.logo {width: 15rem;}}
}